! function (o) {
    "use strict";
    o('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function () {
        if (location.pathname.replace(/^\//, "") == this.pathname.replace(/^\//, "") && location.hostname == this.hostname) {
            var t = o(this.hash);
            if ((t = t.length ? t : o("[name=" + this.hash.slice(1) + "]")).length) return o("html, body").animate({
                scrollTop: t.offset().top - 70
            }, 1e3, "easeInOutExpo"), !1
        }
    }), o(document).scroll(function () {
        o(this).scrollTop() > 100 ? o(".scroll-to-top").fadeIn() : o(".scroll-to-top").fadeOut()
    }), o(".js-scroll-trigger").click(function () {
        o(".navbar-collapse").collapse("hide")
    }), o("body").scrollspy({
        target: "#mainNav",
        offset: 80
    });
    var t = function () {
        o("#mainNav").offset().top > 100 ? o("#mainNav").addClass("navbar-shrink") : o("#mainNav").removeClass("navbar-shrink")
    };
    t(), o(window).scroll(t), o(".portfolio-item").magnificPopup({
        type: "inline",
        preloader: !1,
        focus: "#username",
        modal: !0
    }), o(document).on("click", ".portfolio-modal-dismiss", function (t) {
        t.preventDefault(), o.magnificPopup.close()
    }), o(function () {
        o("body").on("input propertychange", ".floating-label-form-group", function (t) {
            o(this).toggleClass("floating-label-form-group-with-value", !!o(t.target).val())
        }).on("focus", ".floating-label-form-group", function () {
            o(this).addClass("floating-label-form-group-with-focus")
        }).on("blur", ".floating-label-form-group", function () {
            o(this).removeClass("floating-label-form-group-with-focus")
        })
    })
}(jQuery);
var boolEmail;
var boolName;
var boolPass;
var regExp = /([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/; //이메일 정규표현식

function login(){
	var memberId = $('#memberId').val();
	var memberPw = $('#memberPw').val();
	$('#pwDiv').css('border-bottom','');
	$('#emailDiv').css('border-bottom','');
	if($("input:checkbox[id='autoLogin']").is(":checked")){
		$('#autoLoginHidden').val("true");
	} else {
		$('#autoLoginHidden').val("false");
	}
	$.ajax({
		url : "/checkLogin.do",
		type : "post",
		data : {
			memberId : memberId,
			memberPw : memberPw
		},
		success : function(data) {
			console.log(data);
			if(data.result=='failedId' || memberId==''){
				$('#idTitle').text('이메일 확인해주세요');
				$('#idTitle').css('color','red');
				$('#emailDiv').css('border-bottom','1px solid red');
				$('#pwDiv').css('border-bottom','');
				return false;
			} else if(data.result=='failedPw' || memberPw==''){
				$('#pwTitle').text('비밀번호를 확인해주세요');
				$('#pwTitle').css('color','red');
				$('#pwDiv').css('border-bottom','1px solid red');
				$('#emailDiv').css('border-bottom','');
				return false;
			} else {
				return true;
			}
		},
		error : function(data) {
			console.log("실패");
			return false;
		}
	});
}

$(document).ready(function(){
	$('input').keyup(function(){
		if($('input:focus').val()==''){
			$('input:focus').parents('div').css('border-bottom','');
		}
	});
	$('#memberId').keyup(function(){
		if ($('#memberId').val().match(regExp) == null && $('#memberId').val() != '') {
			$('#idTitle').text('이메일 형식이 아닙니다');
			$('#idTitle').css('color','red');
			$('#emailDiv').css('border-bottom','1px solid red');
			$('#pwDiv').css('border-bottom','');
		} else {
			$('.floating-label-form-group').css('border-bottom','');
			$('#idTitle').text('  ');
		}
	});
});


$(document).ready(function(){
	var regex = /^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{6,16}/;//비밀번호 정규식(6-16자리 영문, 숫자, 특수문자 조합)
	$('#joinEmail').keyup(function(){
		if ($('#joinEmail').val().match(regExp) != null) {
			$.ajax({
				url : "/checkEmail.do",
				type : "post",
				data : {
					memberId : $('#joinEmail').val()
				},
				success : function(data) {
					if(data.result){
						console.log($('#joinEmail').val());
						$('#joinEmailTitle').text('이미 가입된 이메일입니다');
						$('#joinEmailTitle').css('color','red');
						$('#emailDiv').css('border-bottom','1px solid red');
						boolEmail = false;
					} else {
						$('.floating-label-form-group').css('border-bottom','');
						$('#joinEmailTitle').text('사용가능한 이메일 입니다');
						$('#joinEmailTitle').css('color','blue');
						boolEmail = true;
					}
				},
				error : function(data) {
					console.log("실패");
				}
			});
		} else if($('#joinEmail').val()==''){
			$('#emailDiv').attr('class','form-group floating-label-form-group controls mb-0 pb-2 floating-label-form-group-with-value');
			$('#joinEmailTitle').text('이메일을 입력해주세요');
			$('#joinEmailTitle').css('color','red');
			$('#emailDiv').css('border-bottom','1px solid red');
			boolEmail = false;
		} else {
			$('#joinEmailTitle').text('이메일형식으로 작성해주세요');
			$('#joinEmailTitle').css('color','red');
			$('#emailDiv').css('border-bottom','1px solid red');
			boolEmail = false;
		}
		
	});
	$('#joinPassword').keyup(function(){
		if ($('#joinPassword').val().match(regex) != null) {
			$('.floating-label-form-group').css('border-bottom','');
			$('#joinPwTitle').text('사용가능한 비밀번호 입니다');
			$('#joinPwTitle').css('color','blue');
			boolPass = true;
		} else if($('#joinPassword').val()==''){
			$('#pwDiv').attr('class','form-group floating-label-form-group controls mb-0 pb-2 floating-label-form-group-with-value');
			$('#joinPwTitle').text('비밀번호를 입력해주세요');
			$('#joinPwTitle').css('color','red');
			$('#pwDiv').css('border-bottom','1px solid red');
			boolPass = false;
		} else {
			$('#joinPwTitle').text('6-16자리 영문, 숫자, 특수문자 조합으로 작성해주세요');
			$('#joinPwTitle').css('color','red');
			$('#pwDiv').css('border-bottom','1px solid red');
			boolPass = false;
		} 
	});
	$('#joinName').keyup(function(){
		if ($('#joinName').val() != '') {
			$('.floating-label-form-group').css('border-bottom','');
			$('#nameTitle').text('사용가능한 이름 입니다');
			$('#nameTitle').css('color','blue');
			boolName = true;
		} else if($('#joinName').val()==''){
			$('#nameDiv').attr('class','form-group floating-label-form-group controls mb-0 pb-2 floating-label-form-group-with-value');
			$('#nameTitle').text('이름을 입력해주세요');
			$('#nameTitle').css('color','red');
			$('#nameDiv').css('border-bottom','1px solid red');
			boolName = false;
		} else {
			$('#nameTitle').text('이름을 입력해주세요');
			$('#nameTitle').css('color','red');
			$('#nameDiv').css('border-bottom','1px solid red');
			boolName = false;
		}
	});
});
function join(){
	var joinEmail = $("#joinEmail").val();
	var joinPassword = $("#joinPassword").val();
	var joinName = $("#joinName").val();
	$('.form-group').css('border-bottom','');
	if(joinEmail==''){
		$('#emailDiv').attr('class','form-group floating-label-form-group controls mb-0 pb-2 floating-label-form-group-with-value');
		$('#joinEmailTitle').text('이메일을 입력해주세요');
		$('#joinEmailTitle').css('color','red');
		$('#emailDiv').css('border-bottom','1px solid red');
	} else if(joinPassword==''){
		$('#pwDiv').attr('class','form-group floating-label-form-group controls mb-0 pb-2 floating-label-form-group-with-value');
		$('#joinPwTitle').text('비밀번호를 입력해주세요');
		$('#joinPwTitle').css('color','red');
		$('#pwDiv').css('border-bottom','1px solid red');
	} else if(joinName==''){
		$('#nameDiv').attr('class','form-group floating-label-form-group controls mb-0 pb-2 floating-label-form-group-with-value');
		$('#nameTitle').text('이름을 입력해주세요');
		$('#nameTitle').css('color','red');
		$('#nameDiv').css('border-bottom','1px solid red');			
	} else {
		if(boolEmail && boolName && boolPass){
			return true;
		}
	}
	
	return false;
}